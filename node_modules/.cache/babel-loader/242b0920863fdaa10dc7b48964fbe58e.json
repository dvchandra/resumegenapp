{"ast":null,"code":"import _regeneratorRuntime from \"/home/dv/Downloads/ResumeProj/ResumeGenapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/dv/Downloads/ResumeProj/ResumeGenapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/home/dv/Downloads/ResumeProj/ResumeGenapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/dv/Downloads/ResumeProj/ResumeGenapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/dv/Downloads/ResumeProj/ResumeGenapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/dv/Downloads/ResumeProj/ResumeGenapp/src/Components/login.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login(props) {\n  _s();\n\n  var _useState = useState({\n    email: \"\",\n    password: \"\",\n    name: \"\"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      loginData = _useState2[0],\n      setloginData = _useState2[1];\n\n  var _useState3 = useState({\n    data: \"\",\n    flag: \"\"\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loggedinData = _useState4[0],\n      setloggedinData = _useState4[1];\n\n  var _useState5 = useState({\n    data: \"\",\n    flag: \"\"\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      signupData = _useState6[0],\n      setsignupData = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      signupFlag = _useState8[0],\n      setsignupFlag = _useState8[1];\n\n  function handleChange(event) {\n    var _event$target = event.target,\n        name = _event$target.name,\n        value = _event$target.value;\n    setloginData(function (prevData) {\n      return _objectSpread(_objectSpread({}, prevData), {}, _defineProperty({}, name, value));\n    });\n  }\n\n  function getGoogle(event) {// axios\n    //   .get('/post')\n    //   .then(() => console.log('Resume Created'))\n    //   .catch(err => {\n    //     console.error(err);\n    //   });\n  }\n\n  function signupPage(event) {\n    setsignupFlag(!signupFlag);\n    clearValue();\n  }\n\n  function signupUser(event) {\n    setsignupFlag(false);\n    var email = loginData.email,\n        password = loginData.password;\n    var id = Math.floor(Math.random() * 100000);\n    var body = {\n      id: id,\n      email: email,\n      password: password\n    };\n    axios.post('/signup', body).then(function (res) {\n      setsignupData(function () {\n        return {\n          data: res.data.signup,\n          flag: res.data.flag\n        };\n      });\n    }).catch(function (err) {\n      console.error(err);\n    });\n\n    if (signupData.flag) {\n      clearValue();\n    }\n  }\n\n  function signupverify(_x) {\n    return _signupverify.apply(this, arguments);\n  }\n\n  function _signupverify() {\n    _signupverify = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      var email, password, body, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault();\n              email = loginData.email, password = loginData.password;\n              body = {\n                email: email,\n                password: password\n              };\n              _context.next = 5;\n              return axios.post('/loginUser', body).then(function (res) {\n                setloggedinData(function () {\n                  return {\n                    data: res.data.userId ? res.data.userId : res.data.err,\n                    flag: res.data.flag\n                  };\n                });\n              }).catch(function (err) {\n                console.error(err);\n                setloggedinData(function () {\n                  return {\n                    data: \"Data not matched\",\n                    flag: false\n                  };\n                });\n              });\n\n            case 5:\n              //console.log(loggedinData);\n              props.authenticate(loggedinData);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _signupverify.apply(this, arguments);\n  }\n\n  function clearValue() {\n    setloggedinData({\n      data: \"\",\n      flag: \"\"\n    });\n    setloginData({\n      email: \"\",\n      password: \"\"\n    });\n    setsignupData({\n      data: \"\",\n      flag: \"\"\n    });\n  }\n\n  function avoidPost(event) {\n    event.preventDefault();\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-lg-8 col-sm-8 col-xs-8 loginForm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card ml-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            method: \"POST\",\n            noValidate: true,\n            autoComplete: \"off\",\n            onClick: avoidPost,\n            children: [signupFlag ? /*#__PURE__*/_jsxDEV(Typography, {\n              children: \"Sign up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 17\n            }, this), signupData.flag === true && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-success\",\n              role: \"alert\",\n              children: signupData.data\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 42\n            }, this), signupData.flag === false && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-danger\",\n              role: \"alert\",\n              children: signupData.data\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 30\n            }, this), loggedinData.flag === false && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-danger\",\n              role: \"alert\",\n              children: loggedinData.data\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 32\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-lg-8\",\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  name: \"email\",\n                  id: \"email\",\n                  label: \"Email ID\",\n                  variant: \"outlined\",\n                  type: \"email\",\n                  value: loginData.email,\n                  onChange: handleChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-lg-8\",\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  name: \"password\",\n                  id: \"password\",\n                  label: \"Password\",\n                  variant: \"outlined\",\n                  type: \"password\",\n                  value: loginData.password,\n                  onChange: handleChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-dark mr-2\",\n                onClick: clearValue,\n                children: \"Reset\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 15\n              }, this), signupFlag ? /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-primary mr-2\",\n                  onClick: signupUser,\n                  children: \"Sign up\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-dark mr-2\",\n                  onClick: signupPage,\n                  children: \"Click for Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 17\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-dark mr-2\",\n                  onClick: signupPage,\n                  children: \"Click for Sign up\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-primary\",\n                  onClick: signupverify,\n                  children: \"Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-lg-4 col-sm-4 col-xs-4 socialMedBtn\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"btn btn-block btn-social btn-google\",\n              href: \"/auth/google\",\n              role: \"button\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fab fa-google\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, this), \"Sign Up with Google\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"btn btn-block btn-social btn-facebook\",\n              href: \"/auth/facebook\",\n              role: \"button\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fab fa-facebook\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 17\n              }, this), \"Sign Up with Facebook\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"ugSOQUbo8056/8w3zTr/CpqQ0NE=\");\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/dv/Downloads/ResumeProj/ResumeGenapp/src/Components/login.jsx"],"names":["React","useState","Card","CardContent","TextField","Typography","axios","Login","props","email","password","name","loginData","setloginData","data","flag","loggedinData","setloggedinData","signupData","setsignupData","signupFlag","setsignupFlag","handleChange","event","target","value","prevData","getGoogle","signupPage","clearValue","signupUser","id","Math","floor","random","body","post","then","res","signup","catch","err","console","error","signupverify","preventDefault","userId","authenticate","avoidPost"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport axios from \"axios\";\nexport default function Login(props) {\n  const [loginData, setloginData] = useState({\n    email: \"\",\n    password: \"\",\n    name:\"\"\n  });\n  const [loggedinData , setloggedinData] = useState({\n    data:\"\",flag:\"\"\n  });\n  const [signupData,setsignupData] = useState({\n    data:\"\",flag:\"\"\n  });\n  const [signupFlag, setsignupFlag] = useState(false);\n  function handleChange(event) {\n    const { name, value } = event.target;\n\n    setloginData((prevData) => {\n      return {\n        ...prevData,\n        [name]: value\n      };\n    });\n  }\n  function getGoogle(event) {\n    // axios\n    //   .get('/post')\n    //   .then(() => console.log('Resume Created'))\n    //   .catch(err => {\n    //     console.error(err);\n    //   });\n  }\n  function signupPage(event) {\n    setsignupFlag(!signupFlag);\n    clearValue();\n  }\n  function signupUser(event) {\n    setsignupFlag(false);\n    const {email,password}=loginData;\n    const id = Math.floor(Math.random()*100000);\n    const body={id,email,password};\n    axios\n    .post('/signup', body)\n    .then(res => {setsignupData(() => {\n      return {\n        data:res.data.signup,\n      flag:res.data.flag}})})\n    .catch(err => {\n      console.error(err);\n    });\n    if(signupData.flag){\n      clearValue();\n    }\n  }\n  async function signupverify(event) {\n    event.preventDefault();\n    const {email,password}=loginData;\n    const body={email,password};\n    let response;\n    await axios\n    .post('/loginUser', body)\n    .then(res =>\n      {setloggedinData(()=>{\n        return {\n          data:res.data.userId?res.data.userId:res.data.err,\n          flag:res.data.flag\n    }})})\n    .catch(err => {\n      console.error(err);\n      setloggedinData(()=>{\n        return {data:\"Data not matched\",flag:false}}\n      )\n    })\n    //console.log(loggedinData);\n    props.authenticate(loggedinData);\n  }\n  function clearValue(){\n    setloggedinData({\n      data:\"\",flag:\"\"\n    });\n    setloginData({\n      email: \"\",\n      password: \"\"\n    });\n    setsignupData({\n      data:\"\",flag:\"\"\n    });\n  }\n  function avoidPost(event) {\n    event.preventDefault()\n  }\n  return (\n    <div className=\"row\">\n      <div className=\"col-lg-8 col-sm-8 col-xs-8 loginForm\">\n        <div className=\"card ml-5\">\n          <div className=\"card-body\">\n            <form method=\"POST\" noValidate autoComplete=\"off\" onClick={avoidPost}>\n              {signupFlag ? (\n                <Typography>Sign up</Typography>\n              ) : (\n                <Typography>Login</Typography>\n              )}\n              {signupData.flag===true &&(<div className=\"alert alert-success\" role=\"alert\">\n{signupData.data}\n</div>)}\n{signupData.flag===false && (<div className=\"alert alert-danger\" role=\"alert\">\n  {signupData.data}\n</div>)}\n{loggedinData.flag===false && (<div className=\"alert alert-danger\" role=\"alert\">\n  {loggedinData.data}\n</div>)}\n\n              <div className=\"row\">\n                <div className=\"col-lg-8\">\n                  <TextField\n                    name=\"email\"\n                    id=\"email\"\n                    label=\"Email ID\"\n                    variant=\"outlined\"\n                    type=\"email\"\n                    value={loginData.email}\n                    onChange={handleChange}\n                    required\n                  />\n                </div>\n                <div className=\"col-lg-8\">\n                  <TextField\n                    name=\"password\"\n                    id=\"password\"\n                    label=\"Password\"\n                    variant=\"outlined\"\n                    type=\"password\"\n                    value={loginData.password}\n                    onChange={handleChange}\n                    required\n                  />\n                </div>\n              </div>\n              <div>\n              <button className=\"btn btn-dark mr-2\" onClick={clearValue}>\n              Reset\n              </button>\n              {signupFlag ? (\n                <span>\n                <button className=\"btn btn-primary mr-2\" onClick={signupUser}>\n                  Sign up\n                </button>\n                <button className=\"btn btn-dark mr-2\" onClick={signupPage}>\n                Click for Login\n                </button>\n                </span>\n              ) : (\n                <span>\n                  <button className=\"btn btn-dark mr-2\" onClick={signupPage}>\n                    Click for Sign up\n                  </button>\n\n                  <button className=\"btn btn-primary\" onClick={signupverify}>\n                    Login\n                  </button>\n                </span>\n              )}\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n      <div className=\"col-lg-4 col-sm-4 col-xs-4 socialMedBtn\">\n        <Card>\n          <CardContent>\n            <div>\n              <a\n                className=\"btn btn-block btn-social btn-google\"\n                href=\"/auth/google\"\n                role=\"button\"\n              >\n                <i className=\"fab fa-google\"></i>\n                Sign Up with Google\n              </a>\n            </div>\n            <div className=\"mt-2\">\n              <a\n                className=\"btn btn-block btn-social btn-facebook\"\n                href=\"/auth/facebook\"\n                role=\"button\"\n              >\n                <i className=\"fab fa-facebook\"></i>\n                Sign Up with Facebook\n              </a>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}